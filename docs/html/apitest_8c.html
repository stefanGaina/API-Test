<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.1"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>API-Test: apitest/src/apitest.c File Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">API-Test
								&#160;<span id="projectnumber">2.0.1</span>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_403d805f230921d79fcd6351fa9e9803.html">apitest</a></li><li class="navelem"><a class="el" href="dir_98557a0ff38a1c0dd878f26a717f9945.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">apitest.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implements the interface defined in <a class="el" href="apitest_8h.html" title="This file defines the type definitions and public interface of API-Test.">apitest.h</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="apitest_8h_source.html">apitest.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for apitest.c:</div>
<div class="dyncontent">
<div class="center"><img src="apitest_8c__incl.png" border="0" usemap="#aapitest_2src_2apitest_8c" alt=""/></div>
<map name="aapitest_2src_2apitest_8c" id="aapitest_2src_2apitest_8c">
<area shape="rect" title="This file implements the interface defined in apitest.h." alt="" coords="71,5,221,32"/>
<area shape="rect" href="apitest_8h.html" title="This file defines the type definitions and public interface of API&#45;Test." alt="" coords="107,80,185,107"/>
<area shape="rect" title=" " alt="" coords="5,155,92,181"/>
<area shape="rect" title=" " alt="" coords="117,155,175,181"/>
<area shape="rect" href="apitest__internal_8h.html" title="This file defines macros and interfaces of API&#45;Test that are meant to be internal." alt="" coords="199,155,335,181"/>
<area shape="rect" title=" " alt="" coords="215,229,319,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__apitest__PrivateHandler__t.html">s_apitest_PrivateHandler_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit data type of the handler for internal usage.  <a href="structs__apitest__PrivateHandler__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae4b0975e8c70f89ef7f39c127f92db2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#ae4b0975e8c70f89ef7f39c127f92db2a">PRINT_PREFIX</a>&#160;&#160;&#160;&quot;[API-TEST] &quot;</td></tr>
<tr class="memdesc:ae4b0975e8c70f89ef7f39c127f92db2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tag attached at the beginning of the messages printed by the library.  <a href="apitest_8c.html#ae4b0975e8c70f89ef7f39c127f92db2a">More...</a><br /></td></tr>
<tr class="separator:ae4b0975e8c70f89ef7f39c127f92db2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a024fed0c657e6c974ef868baa1d474f8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structs__apitest__PrivateHandler__t.html">s_apitest_PrivateHandler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#a024fed0c657e6c974ef868baa1d474f8">apitest_PrivateHandler_t</a></td></tr>
<tr class="memdesc:a024fed0c657e6c974ef868baa1d474f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit data type of the handler for internal usage.  <a href="apitest_8c.html#a024fed0c657e6c974ef868baa1d474f8">More...</a><br /></td></tr>
<tr class="separator:a024fed0c657e6c974ef868baa1d474f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5541c0ebce12caf42af6a6b8609c0aa4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#a5541c0ebce12caf42af6a6b8609c0aa4">string_to_command</a> (const gchar *string)</td></tr>
<tr class="memdesc:a5541c0ebce12caf42af6a6b8609c0aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Created a command object from a string.  <a href="apitest_8c.html#a5541c0ebce12caf42af6a6b8609c0aa4">More...</a><br /></td></tr>
<tr class="separator:a5541c0ebce12caf42af6a6b8609c0aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ce5383b1c64fa1ac7c8191cc442c96"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#a54ce5383b1c64fa1ac7c8191cc442c96">free_command</a> (void)</td></tr>
<tr class="memdesc:a54ce5383b1c64fa1ac7c8191cc442c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the current arguments and resets the counter.  <a href="apitest_8c.html#a54ce5383b1c64fa1ac7c8191cc442c96">More...</a><br /></td></tr>
<tr class="separator:a54ce5383b1c64fa1ac7c8191cc442c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d734acb9fcb9c0f04f7fd64051cf60"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#a55d734acb9fcb9c0f04f7fd64051cf60">apitest_init</a> (<a class="el" href="apitest_8h.html#a414d3ff86780956addc230562cfbd358">apitest_Handler_t</a> *const public_handler, const gchar *const title, const gchar *const file_name, const gsize buffer_size)</td></tr>
<tr class="memdesc:a55d734acb9fcb9c0f04f7fd64051cf60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes API-Test by saving the title, opening the input file and creating the buffer.  <a href="apitest_8c.html#a55d734acb9fcb9c0f04f7fd64051cf60">More...</a><br /></td></tr>
<tr class="separator:a55d734acb9fcb9c0f04f7fd64051cf60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37f77d3504a20d4fc0d79e28f11c721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#ab37f77d3504a20d4fc0d79e28f11c721">apitest_deinit</a> (<a class="el" href="apitest_8h.html#a414d3ff86780956addc230562cfbd358">apitest_Handler_t</a> *const public_handler)</td></tr>
<tr class="memdesc:ab37f77d3504a20d4fc0d79e28f11c721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes API-Test by closing the input file, if it is still open and deleting the buffer.  <a href="apitest_8c.html#ab37f77d3504a20d4fc0d79e28f11c721">More...</a><br /></td></tr>
<tr class="separator:ab37f77d3504a20d4fc0d79e28f11c721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053f661dcc68ecddc4ea1d9335a3845c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#a053f661dcc68ecddc4ea1d9335a3845c">apitest_get_command</a> (<a class="el" href="apitest_8h.html#a414d3ff86780956addc230562cfbd358">apitest_Handler_t</a> *const public_handler)</td></tr>
<tr class="memdesc:a053f661dcc68ecddc4ea1d9335a3845c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a command from the user and stores it in the global variable. Argc will be set to -1 if reading from a file EOF is reached. Blocking function if input is from terminal.  <a href="apitest_8c.html#a053f661dcc68ecddc4ea1d9335a3845c">More...</a><br /></td></tr>
<tr class="separator:a053f661dcc68ecddc4ea1d9335a3845c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1b454def07cb6f60f81b90f37aa47453"><td class="memItemLeft" align="right" valign="top"><a class="el" href="apitest_8h.html#afdd4477f65dff16fd757077f29475390">apitest_Command_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apitest_8c.html#a1b454def07cb6f60f81b90f37aa47453">command</a> = {}</td></tr>
<tr class="memdesc:a1b454def07cb6f60f81b90f37aa47453"><td class="mdescLeft">&#160;</td><td class="mdescRight">The output variable of <a class="el" href="apitest_8c.html#a053f661dcc68ecddc4ea1d9335a3845c" title="Gets a command from the user and stores it in the global variable. Argc will be set to -1 if reading ...">apitest_get_command()</a>. This is global so that it can be accessed through macros leading to little code on test application side (this is acceptable because it's not meant to be used for anything other than testing).  <a href="apitest_8c.html#a1b454def07cb6f60f81b90f37aa47453">More...</a><br /></td></tr>
<tr class="separator:a1b454def07cb6f60f81b90f37aa47453"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements the interface defined in <a class="el" href="apitest_8h.html" title="This file defines the type definitions and public interface of API-Test.">apitest.h</a>. </p>
<hr  />
<dl class="section author"><dt>Author</dt><dd>Gaina Stefan </dd></dl>
<dl class="section date"><dt>Date</dt><dd>02.08.2023 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>While inputing the commands it would be nice to be able to navigate using the key arrows through the command history (like in terminal). </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000004">Bug:</a></b></dt><dd>No known bugs.</dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae4b0975e8c70f89ef7f39c127f92db2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b0975e8c70f89ef7f39c127f92db2a">&#9670;&nbsp;</a></span>PRINT_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRINT_PREFIX&#160;&#160;&#160;&quot;[API-TEST] &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tag attached at the beginning of the messages printed by the library. </p>
<hr  />
 
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a024fed0c657e6c974ef868baa1d474f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024fed0c657e6c974ef868baa1d474f8">&#9670;&nbsp;</a></span>apitest_PrivateHandler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structs__apitest__PrivateHandler__t.html">s_apitest_PrivateHandler_t</a> <a class="el" href="apitest_8c.html#a024fed0c657e6c974ef868baa1d474f8">apitest_PrivateHandler_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explicit data type of the handler for internal usage. </p>
<hr  />
 
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5541c0ebce12caf42af6a6b8609c0aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5541c0ebce12caf42af6a6b8609c0aa4">&#9670;&nbsp;</a></span>string_to_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void string_to_command </td>
          <td>(</td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Created a command object from a string. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>The string representing the command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a54ce5383b1c64fa1ac7c8191cc442c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ce5383b1c64fa1ac7c8191cc442c96">&#9670;&nbsp;</a></span>free_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_command </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the current arguments and resets the counter. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a55d734acb9fcb9c0f04f7fd64051cf60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d734acb9fcb9c0f04f7fd64051cf60">&#9670;&nbsp;</a></span>apitest_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean apitest_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="apitest_8h.html#a414d3ff86780956addc230562cfbd358">apitest_Handler_t</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gsize&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes API-Test by saving the title, opening the input file and creating the buffer. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Unitialized handler object. </td></tr>
    <tr><td class="paramname">title</td><td>String that will be displayed at the beginning of the line if input is from terminal (can be NULL). </td></tr>
    <tr><td class="paramname">file_name</td><td>The file path where the command will be inputed from (can be NULL, will read from terminal). </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the buffer in which the commands will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE - initialization has been successful. </dd>
<dd>
FALSE - an error occured. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="apitest_8h.html#a69c5bca9d66ac4dff9f0d8cc7918a86c" title="The default text printed at the beginning of the line when waiting for the commands to be inputed in ...">APITEST_DEFAULT_TITLE_NAME</a> </dd></dl>

</div>
</div>
<a id="ab37f77d3504a20d4fc0d79e28f11c721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37f77d3504a20d4fc0d79e28f11c721">&#9670;&nbsp;</a></span>apitest_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apitest_deinit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="apitest_8h.html#a414d3ff86780956addc230562cfbd358">apitest_Handler_t</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes API-Test by closing the input file, if it is still open and deleting the buffer. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Initialized handler object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a053f661dcc68ecddc4ea1d9335a3845c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053f661dcc68ecddc4ea1d9335a3845c">&#9670;&nbsp;</a></span>apitest_get_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apitest_get_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="apitest_8h.html#a414d3ff86780956addc230562cfbd358">apitest_Handler_t</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a command from the user and stores it in the global variable. Argc will be set to -1 if reading from a file EOF is reached. Blocking function if input is from terminal. </p>
<hr  />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Initialized handler object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1b454def07cb6f60f81b90f37aa47453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b454def07cb6f60f81b90f37aa47453">&#9670;&nbsp;</a></span>command</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="apitest_8h.html#afdd4477f65dff16fd757077f29475390">apitest_Command_t</a> command = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The output variable of <a class="el" href="apitest_8c.html#a053f661dcc68ecddc4ea1d9335a3845c" title="Gets a command from the user and stores it in the global variable. Argc will be set to -1 if reading ...">apitest_get_command()</a>. This is global so that it can be accessed through macros leading to little code on test application side (this is acceptable because it's not meant to be used for anything other than testing). </p>
<hr  />
 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>
